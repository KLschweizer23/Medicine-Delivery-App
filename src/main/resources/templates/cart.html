<!DOCTYPE html>
<html lang="en" xmlns="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <th:block th:replace="components/header :: header"></th:block>
        <title>My cart</title>
    </head>
    <body class="bg-primary-theme" style="background-color: black;">
        <nav th:replace="fragments/navbar :: navbar"></nav>
        <div class="text-center py-5 px-3">
            <div class="m-0 p-2 bg-dark ">
                <div class="w-10 m-2 p-2 text-right">
                    <button type="button" class="btn btn-success">
                        Check out
                    </button>
                    <button type="button" onclick="removeProduct(0);" class="btn btn-danger">
                        Remove all
                    </button>
                </div>
                <th:block th:if="${buyer.cart.products.size > 0}" th:each="product : ${buyer.cart.products}">
                    <div th:replace="fragments/item-cart :: item-cart"></div>
                </th:block>
                <th:block th:if="${buyer.cart.products.size == 0}">
                    <h1 class="text-white mb-5">No products to check out . . .</h1>
                </th:block>
            </div>
        </div>
    </body>
    <script th:inline="javascript">
        function removeProduct(id){
            var parameter = "?prod_id=" + id;
            $.get("/remove-product" + parameter, function(data){
                window.location.assign("/cart");
            });
        }
    </script>
</html>